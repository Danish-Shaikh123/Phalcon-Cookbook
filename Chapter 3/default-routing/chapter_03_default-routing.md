
## Understanding the default routing strategy for controllers

One of the most essential parts of any web framework is having a a flexible way of converting browser URLs into a definable logic path on the server and with Phalcon this is achieved with the Phalcon\Mvc\Router component.  To start with it is necessary to have an understanding of the default routing strategy and then later this can be expanded upon.

The default routing strategy can be described simply in that each web request is assigned to a Phalcon\Mvc\Controller class and then specific **action** function within that controller.  So with each URL we can begin to think about which PHP controller class the request will be directed to and then which action function within that controller will finally handle the request.  In this way groups of common behavior can be grouped together into a single controller for both reducing duplicate code and for organization.  The best part is that right from the start each new action function is automatically available by accessing its corresponding URL.

#### Getting Ready...

To use this recipe you will need to have a project skeleton with a configured Phalcon bootstraper, \Phalcon\Mvc\Router and at least one \Phalcon\Mvc\Controler.  In our example we will use a project scaffold generated by **Phalcon Developer Tools**.

For testing the recipe results you need to have a web server installed and configured for handling requests to your application. Your application must be able to take requests, and additionally, there must be such necessary components as Controllers, Views, and a bootstrap-file.

A database is not required for this recipe.

#### How to do it...
Follow these steps to complete this recipeâ€¦

1) First of all, we need to have an application which we will experiment with. If you already have such an application, you can skip this step. Create a simple application: `phalcon project default-routing simple`.  Now we will need to check that this directory is readable by the web server and also that the web server can write to the `app/cache` directory or you will receive the *Volt directory can't be written* error message.

2) Now point the web browser at the root directory of the project.  There should be a page with "Congratulations! ...." if you have PHP and Apache setup properly.  Notice that it says `This page is located at views/index/index.volt`.  This is your first hint at the routing path.  See if you can guess the controller and action name.
If it is not working then check that you have Phalcon added to your PHP modules, that the directory permissions are readable by the web server and that it is setup to allow `.htaccess` files.  

3) Add `/index` to the end the URL in the browser window and see if anything changed.  Did it the browser content change?  Well it shouldn't have because we didn't actually change the route.  What just happened was that the implicit default controller `index` is now being specifically given as `index`.  We've just overrode the default value with exactly the same value.

4) Next add an additional `/index` to the URL so that in total we've added `/index/index`.  Again nothing should have changed.  We've now just specified the route action as `index` and since the default is the same value it will not change the route.  Remember that the URL path and the Router route are two different things.

5) Alright so while informative this so far isn't very exciting.  So now we'll add a new action to our index controller to see what happens.
```php
<?php
class IndexController extends ControllerBase
{
    public function indexAction()
    {
    }

    public function testAction()
    {
        return "This text is coming from controller 'index' and action 'test'.";
    }
}
```
Now point the web browser path at `/index/test` to see if our new action is working.  So we have created a new action and this new action is automatically reachable by simply entering in the corresponding URL path.  This flexibility allows for functionality to be easily added without maintaining a separate list of every URL path to server side logic. This would otherwise become exceedingly tedious after just a short while and default routing to a controller-action is the solution to this problem.

6) So now we'll draw attention something that might appear strange at first glance.  Notice that the `indexAction` function is completely empty but that somehow when we go to that path it displayed our original "Contradulations! ..." message.  So where is that coming from?

7) Navigate to directory `app/views` within the scaffold directory to see the views.  For now we will only be observing the presence of views and understanding how they fit into the routing strategy but don't worry this subject is covered in depth in later recipes.  To keep it simple for now the main `index.volt` is the global template container for all of the views and then `index/index.volt` is the template specifically for the route with controller `index` and action `index`.  Whether you choose to use templates or not for an action is purely up to you and even in a mature application there are uses for many combinations of this approach.

8) Now we will create a new `Hello` controller with a `world` action handler.
```php
<?php

class HelloController extends \Phalcon\Mvc\Controller
{
    public function worldAction()
    {
        return 'Hello World';
    }
}
```
Now navigate to `hello/world` in your browser to see the message

#### How it Works...

...
